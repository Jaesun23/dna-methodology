# 🔬 Gemini 연구 문서 통합 정리

> **목적**: 8개 Gemini 연구 문서에서 DNA 방법론에 수용할 핵심만 추출  
> **작성일**: 2025-12-02  
> **문서 범위**: 2025년 11월 11일 ~ 11월 19일 연구 결과

---

## 📋 연구 문서 목록

| # | 파일명 | 핵심 주제 |
|---|--------|----------|
| 1 | 20251111_1408_엔터프라이즈_소프트웨어개발_프로세스 | 접근법 B 검증, 문서 흐름 |
| 2 | 20251111_1726_아키텍처_정의_질문_구조화 | 10가지 ADQ |
| 3 | 20251114_1733_엔터프라이즈_설계_프로세스_보완 | Stage 4-6 = Bridge |
| 4 | 20251117_1414_ADR_실무_적용_및_방법론_검증 | 기업 사례, ADR 카테고리 |
| 5 | 20251117_1831_DNAv4.0_보완_및_실무가이드 | DNA 시스템 구현, 추적성 |
| 6 | 20251118_1809_AI협업_개발_방법론_완성 | Context Rot, 프롬프팅 기법 |
| 7 | 20251119_0948_AI_장문작성_및_소프트웨어_개발방법론 | 4가지 핵심 기법 |
| 8 | 20251119_1322_ClaudeCODE_구현가이드 | 상태 관리 개념 (Hooks 제외) |

---

## 🎯 Part 1: 프로세스 순서 검증

### 접근법 B = 업계 표준 ✅

**발견**: Google, Amazon, One Medical 모두 동일한 순서를 따름

```
요구사항(PRD) → 설계(TDD/Design Doc) → 결정 기록(ADR)
```

**Carnegie Mellon SEI 원칙과 일치**:
> "속성(Attributes)이 기술 선택을 주도한다"

**ADR의 정확한 역할**:
- ADR = "결정의 **기록**(Record)"
- 설계 문서(Design Doc)가 "어머니"
- 복잡한 결정: Design Doc 먼저 → ADR은 최종 요약
- 간단한 결정: ADR 자체가 제안서 역할 가능

---

## 🎯 Part 2: 아이디어 → 패밀리 연결고리

### 10가지 ADQ (Architecture-Driving Questions)

**핵심 발견**: "누가, 언제, 어디서"는 기능 중심 질문 → NFR 도출 못함

**품질 속성을 도출하는 10가지 질문**:

| 카테고리 | 질문 | 도출되는 것 |
|---------|------|------------|
| **A. 비즈니스 가치** | Q1. 실패 시 1시간 손실은? | 가용성/신뢰성 NFR |
| | Q2. 핵심 품질 하나는? | Trade-off 우선순위 |
| **B. 사용자/규모** | Q3. 핵심 사용자 여정(CUJ)? | 인터페이스/구조 |
| | Q4. 사용자 규모 유형? | 확장성/구조 |
| **C. 데이터/의존성** | Q5. 데이터 민감도? 외부 전송? | 보안/구조 |
| | Q6. 데이터 원천? 변경 주기? | 의존성/성능 |
| | Q7. 데이터 보관 기간? 감사? | 감사용이성 |
| **D. 운영/환경** | Q8. 연동 필수/금지 시스템? | 의존성/인터페이스 |
| | Q9. 배포 환경 제약? | 구조/기술 |
| | Q10. 기능 변경 주기? | 유지보수성 |

**DNA 방법론 연결**:
- 이 10가지 질문 → Layer 1, 2, 3 질문의 구체화 버전
- Stage 1-2에서 패밀리 분류의 근거로 활용

---

## 🎯 Part 3: Stage 4-6의 정체

### "Gap"이 아니라 "Bridge"

**핵심 발견**: Stage 4-5-6은 의도된 "환경 구축" 단계

**"강제 가능한 환경" 4대 구성요소**:

| 구성요소 | Stage | 역할 |
|---------|-------|------|
| 성문화된 결정 | Stage 3 ADR | 왜/무엇 |
| 재사용 가능한 핵심 컴포넌트 | Stage 5 src/core/ | 도구 |
| 의무적 규칙 집합 | Stage 6 project_standards | 규칙 |
| 자동화된 거버넌스 | pre-commit, 린터 | 경찰 |

**5단계 데이터 변환 파이프라인**:
```
Stage 2 (결정) 
  → Stage 3 (성문화) 
    → Stage 4+5 (도구 구축) 
      → Stage 6 (규칙 성문화) 
        → Stage 7 (설계)
```

**핵심 인사이트**:
- DNA 시스템 = "환경/플랫폼" 구축
- 도메인 = "애플리케이션" 구축
- 이 분리가 방법론의 핵심

---

## 🎯 Part 4: ADR 실무 적용

### 기업 사례 분석

| 기업 | 문서 유형 | DNA 매핑 |
|-----|---------|---------|
| Kubernetes | KEP (Enhancement Proposal) | Stage 2 + Stage 7 |
| GitLab | ADR + Architecture Blueprints | Stage 3 + Stage 7 |
| Terraform | Design Documents | Stage 2 + Stage 7 |

### ADR vs Design Doc 관계

- **ADR**: 결정에 집중 (Why) → Stage 3
- **Design Doc**: 설계에 집중 (How) → Stage 7 Blueprint
- 상호 배타적 ❌ → 선후 관계 ✅

### DNA 5대 ADR 카테고리

| 카테고리 | 설명 | 예시 |
|---------|------|------|
| 외부 제약 ADR | 변경 불가 | 법규, API 제한 |
| 충돌 해결 ADR | Trade-off | 속도 vs 정확성 |
| 기술 스택 ADR | 비교 선택 | PostgreSQL vs MySQL |
| 도메인 기술 ADR | 자체 설계 | 도메인 특화 로직 |
| DNA 시스템 ADR | 공통 표준 | 로깅, 에러 처리 |

### 자동화 성숙도 3단계

| 단계 | 시점 | 도구 |
|-----|------|------|
| Day 1 | 즉시 | pre-commit (정적 분석) |
| Week 2 | 2주 후 | ArchUnit/import-linter (아키텍처) |
| Month 1+ | 1개월 후 | Fitness Functions + Policy-as-Code |

---

## 🎯 Part 5: 추적성 메커니즘

### Stage 간 연결 모델

```
Stage 6 (표준)
  ↓ 명시적 참조
Stage 7 (블루프린트)
  ↓ 검증 항목 포함
Stage 9 (체크리스트)
```

**예시**:
1. **Stage 6**: "모든 DB 테이블의 PK는 UUIDv7 사용" (Line 45-50)
2. **Stage 7**: "User 테이블 id는 UUIDv7" (Ref: 06D-01 Ln 45)
3. **Stage 9**: "User 모델 id 필드가 uuid7 기본값인지 검증"

### 핫픽스 루프 (양방향 피드백)

```
하위 단계 문제 발생
  ↓ Escalation
상위 단계 (ADR) 수정
  ↓ Revision
Stage 5-6 코드/표준 업데이트
  ↓ Propagation
이후 모든 블루프린트에 반영
```

---

## 🎯 Part 6: AI 협업의 핵심 문제

### Context Rot (문맥 부패)

**정의**: 대화가 길어질수록 초기 원칙이 후반부에 영향력 약화

**증상**:
- 최신성 편향 (Recency Bias)
- Lost in the Middle (중간 정보 망각)
- 환각 (Hallucination) 가속화

**해결 원칙**:
- 정적 컨텍스트 (불변 규칙) vs 동적 컨텍스트 (변화하는 상태) 분리
- 핵심 결정사항을 파일로 저장하고 매 세션 시작 시 주입

### 인지 글쓰기 이론

```
기획(Planning) → 작성(Translating) → 검토(Reviewing) → 반복
```

AI도 단일 패스(Single-pass) 생성으로는 고품질 결과 불가능

---

## 🎯 Part 7: 4가지 핵심 프롬프팅 기법

### 1. Skeleton-of-Thought (SoT)

**원리**: 뼈대 먼저 → 각 부분 병렬 확장

**장점**:
- 지연 시간 단축 (동시 생성)
- 논리적 표류 방지 (구조 미리 확정)

**적용**: 청사진 목차 생성 → 각 섹션 병렬 작성

### 2. Chain of Density (CoD)

**원리**: 고정 길이 내에서 정보 밀도 점진적 증가

**과정**:
1. 초기 요약문 작성
2. 누락된 핵심 엔티티 식별
3. 불필요한 단어 제거 + 새 사실 추가
4. 4-5회 반복

**적용**: 모호한 요구사항 → 구체적 기술 명세 변환

### 3. Tree of Thoughts (ToT)

**원리**: 여러 사고 경로 생성 → 자기 평가 → 최적 선택/역추적

**과정**:
1. 문제를 중간 단계로 분해
2. 각 단계에서 다수 후보 생성
3. 탐색 알고리즘(BFS, DFS)으로 최적해 탐색

**적용**: 아키텍처 대안 비교 (모놀리식 vs MSA)

### 4. RDoLT (Recursive Decomposition of Logical Thoughts)

**원리**: 난이도별 3단계 분해

| 단계 | 내용 |
|-----|------|
| Easy | 명확한 기본 기능 |
| Intermediate | 기능 간 상호작용, 비즈니스 로직 |
| Final | 예외 상황, 성능, 보안 (고도 추론) |

**적용**: 아이디어 정제, 요구사항 도출

---

## 🎯 Part 8: 상태 관리 개념

### 영구적 상태 저장

**원리**: LLM의 제한된 컨텍스트에 의존하지 않고 파일 시스템 기반 저장

**핵심 파일**:
- `context_summary.json`: 핵심 결정사항 (패밀리, NFR, 제약조건)
- `CLAUDE.md`: 세션 시작 시 자동 로드되는 메모리 파일

**동적 컨텍스트 주입**:
```
새 세션 시작
  ↓
context_summary.json 로드
  ↓
"아, 이 프로젝트는 A-A-A 패밀리구나" 즉시 인지
  ↓
해당 제약조건 하에 작업
```

---

## 📌 수용하지 않는 것

### Claude CODE Hooks (제외)
- 조건이 전역적 (사용자 입력 시, 쓰기 전/후 등)
- 특정 작업에 포커스 맞추기 어려움
- 단일 프로젝트 전용이면 유용하지만, 그렇지 않으면 사용 불가

### 에이전트 정의 상세 (제외)
- 구체적인 역할 분담 (아키텍트, PO 등)
- 우리가 방법론 만들면서 정해야 할 부분
- 예: "아키텍처 전문가로 정의하고 CoD+ToT로 분석하라" 등은 우리가 설계

### Slash Commands/Subagents 구현 상세 (제외)
- 동일한 이유: 구체적 구현은 우리가 정해야 함

---

## 🎯 DNA 방법론에 적용할 핵심 요약

### Stage 1-2 (아이디어 → 패밀리)
1. **10가지 ADQ** 활용하여 NFR 도출
2. **CoD** 기법으로 모호한 아이디어 정제
3. **RDoLT**로 난이도별 분해

### Stage 3 (ADR)
1. **5대 ADR 카테고리** 적용
2. **ADR ↔ Design Doc 선후 관계** 명확히
3. 기업 사례 (KEP, GitLab) 참고

### Stage 4-6 (환경 구축)
1. **4대 구성요소** 갖추기 (결정, 도구, 규칙, 자동화)
2. **추적성 메커니즘** 구현 (명시적 참조)
3. **핫픽스 루프** 설계 (양방향 피드백)

### Stage 7-9 (설계 → 구현)
1. **SoT**로 청사진 구조화
2. **ToT**로 아키텍처 대안 비교
3. **상태 관리**로 Context Rot 방지

### 전체 프로세스
```
기획(ToT) → 구조화(SoT) → 확장(병렬) → 검증(추적성)
```

---

## 🔗 참고: 원본 문서 위치

```
/Users/jason/Projects/dna-methodology/docs/research/Gemini_Research/
```

---

**문서 끝**
