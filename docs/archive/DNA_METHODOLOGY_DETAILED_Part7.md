# DNA Methodology 상세 문서 (Part7)

> **목적**: DNA_PROJECT_OVERVIEW_v2.md의 각 Part를 상세하게 풀어쓴 실행 가이드
> **용도**: 실제 작업 시 참조, Stage별 가이드 작성의 기준
> **작성일**: 2025-12-02

## 목차

Part 1: AI 협업의 문제와 해결

​	1.1 Context Rot (문맥 부패) - 핵심 문제

​	1.2 AI의 6가지 문제점

Part 2: DNA 방법론 핵심 

​	2.0 DNA 4대 핵심 원칙

​	2.1 핵심 1: "부분으로 전체를 완성"

​	2.2 핵심 2: "환경으로 제어"

​	2.3 추적성 메커니즘: Stage 간 연결

Part 3: Stage 1-2 분류와 조사

​	3.1 Stage 1: 패밀리 분류

​	3.2 Stage 2: 환경 제약 조사

Part 4: Stage 3 결정 문서화 - ADR 

​	4.1 ADR의 역할과 위치

​	4.2 5대 ADR 카테고리

Part 5: Stage 4-6 Bridge - 환경 구축

​	5.1 Bridge의 의미

​	5.2 Stage 4: DNA 시스템 청사진

​	5.3 Stage 5: DNA 시스템 구현

​	5.4 Stage 6: Project Standards

Part 6: Stage 7-9 Blueprint → 구현

​	6.1 Stage 7: Project Blueprint

​	6.2 Stage 8: Task Breakdown

​	6.3 Stage 9: Checklist + 구현

### Part 7: AI 협업 기법

#### 		7.1 인지 글쓰기 이론 기반

#### 		7.2 Skeleton-of-Thought (SoT) - 구조 우선

#### 		7.3 Chain of Density (CoD) - 정보 밀도 증가

#### 		7.4 Tree of Thoughts (ToT) - 대안 탐색

#### 		7.5 RDoLT - 난이도별 분해

#### 		7.6 Stage별 기법 적용 요약

---

## Part 7: AI 협업 기법

### 7.1 인지 글쓰기 이론 기반

```markdown
Flower & Hayes (1981) - 인지 글쓰기 프로세스:

┌─────────────────────────────────────────────────────────┐
│                   글쓰기 = 문제 해결                    │
├─────────────────────────────────────────────────────────┤
│                                                         │
│   ┌─────────┐                                          │
│   │ 기획    │ ← 아이디어 생성, 구조화, 목표 설정       │
│   │Planning │                                          │
│   └────┬────┘                                          │
│        ↓                                               │
│   ┌─────────┐                                          │
│   │ 작성    │ ← 아이디어를 텍스트로 변환               │
│   │Translating│                                        │
│   └────┬────┘                                          │
│        ↓                                               │
│   ┌─────────┐                                          │
│   │ 검토    │ ← 평가, 수정, 개선                       │
│   │Reviewing│                                          │
│   └────┬────┘                                          │
│        │                                               │
│        └────→ 반복...                                  │
│                                                         │
└─────────────────────────────────────────────────────────┘

DNA 방법론 적용:
├─ 기획 = Stage 1-3 (ADR까지)
├─ 작성 = Stage 7-9 (Blueprint → 구현)
├─ 검토 = 각 Stage의 검증 단계
└─ 반복 = 세션 단위 점진적 완성
```
### 7.2 Skeleton-of-Thought (SoT) - 구조 우선

#### 원리

```markdown
전통적 방식:
────────────────────────────────
시작 → 서론 작성 → 본론 1 → 본론 2 → ... → 결론
(순차적, 한 줄로)

문제:
├─ 앞부분에서 시간 소모
├─ 전체 구조 놓침
├─ 논리적 표류 발생
└─ 뒷부분 품질 저하

SoT 방식:
────────────────────────────────
Step 1: 뼈대 (Skeleton) 생성
┌───────────────────────────────┐
│ 1. 서론                       │
│ 2. 본론 A                     │
│ 3. 본론 B                     │
│ 4. 본론 C                     │
│ 5. 결론                       │
└───────────────────────────────┘

Step 2: 각 부분 병렬 확장
┌───────────────────────────────┐
│ 1. 서론 ────→ [상세 내용]    │
│ 2. 본론 A ──→ [상세 내용]    │  병렬 처리
│ 3. 본론 B ──→ [상세 내용]    │  가능
│ 4. 본론 C ──→ [상세 내용]    │
│ 5. 결론 ────→ [상세 내용]    │
└───────────────────────────────┘

장점:
├─ 전체 구조 먼저 확정
├─ 논리적 표류 방지
├─ 병렬 작업 가능 (여러 세션)
└─ 일관성 유지
```

#### DNA 적용: Blueprint 작성

```markdown
Stage 7 Blueprint에 SoT 적용:

세션 1: 뼈대 생성
────────────────────────────────
1. 시스템 개요
2. 아키텍처 구조
3. 도메인 모델
4. API 설계
5. 데이터베이스 설계
6. 외부 연동
7. 에러 처리
8. 보안
9. 다음 단계

→ 목차만 작성 (10분)
→ 각 섹션 2-3줄 요약

세션 2: 섹션 1-3 확장
────────────────────────────────
각 섹션 상세 내용 작성
ADR 참조 추가
다이어그램 포함

세션 3: 섹션 4-6 확장
────────────────────────────────
API 스펙 상세화
테이블 스키마 정의
외부 API 연동 명세

세션 4: 섹션 7-9 확장 + 검토
────────────────────────────────
에러 코드 정의
보안 정책 명세
전체 일관성 검토
```
#### 프롬프트 템플릿

```markdown
SoT 뼈대 생성 프롬프트:

"[주제]에 대한 문서를 작성하려 합니다.
먼저 전체 구조(목차)만 작성해주세요.
각 섹션은 제목과 2-3줄 요약만 포함합니다.
상세 내용은 이후 별도로 작성합니다."

SoT 확장 프롬프트:

"아래 목차의 섹션 [N-M]을 상세하게 작성해주세요.
[목차 제공]
[관련 ADR/참조 문서 제공]
다른 섹션은 작성하지 마세요."
```
---

### 7.3 Chain of Density (CoD) - 정보 밀도 증가

#### 원리

```markdown
전통적 요약:
────────────────────────────────
원문 1000자 → 요약 200자
(한 번에 압축, 정보 손실 큼)

CoD 방식:
────────────────────────────────
Round 1: 초기 요약 (200자)
├─ 핵심 주제 파악
└─ 기본 구조 유지

Round 2: 밀도 증가 (200자 유지)
├─ 불필요한 수식어 제거
├─ 새로운 핵심 정보 추가
└─ 더 많은 내용을 같은 길이에

Round 3: 밀도 증가 (200자 유지)
├─ 추가 압축
├─ 더 많은 엔티티 포함
└─ 문장 구조 최적화

Round 4-5: 최종 밀도
├─ 최대 정보 밀도 달성
├─ 핵심만 남김
└─ 읽기 어려우면 롤백

핵심:
├─ 길이 고정 (200자)
├─ 정보량 증가 (매 라운드)
└─ 4-5회 반복
```
#### DNA 적용: 요구사항 정제

```markdown
Stage 1-2에서 CoD 적용:

원본 (사용자 요청):
────────────────────────────────
"주식 거래할 수 있는 앱을 만들고 싶어요.
한국투자증권 API를 사용하고요.
실시간으로 시세도 보고 싶고
주문도 넣을 수 있으면 좋겠어요.
자동매매도 나중에 추가하고 싶어요."

Round 1 (요약):
────────────────────────────────
"한국투자증권 API 기반 주식 거래 앱.
실시간 시세 조회, 주문 기능 필요.
자동매매는 추후 확장."

Round 2 (밀도 증가):
────────────────────────────────
"KIS API 기반 주식 거래 플랫폼.
핵심: 실시간 시세(WebSocket), 주문 CRUD.
패밀리: A-A-B (거래 정확성 최우선).
확장: 자동매매 (Phase 2)."

Round 3 (밀도 증가):
────────────────────────────────
"KIS API 주식 거래 플랫폼.
실시간 시세(WS) + 주문(REST/ACID).
A-A-B 패밀리, NFR: 정확성>속도>가용성.
제약: KIS 20req/s, KRX 09:00-15:30.
확장: 자동매매 (조건부 주문)."

Round 4 (최종):
────────────────────────────────
"KIS API 주식 거래 (A-A-B)
├─ 시세: WebSocket 실시간
├─ 주문: REST + PostgreSQL ACID
├─ NFR: 정확성 A, 속도 A, 가용성 A
├─ 제약: 20req/s, 09:00-15:30
└─ Phase 2: 조건부 자동매매"
```

#### 프롬프트 템플릿

```markdown
CoD 적용 프롬프트:

"아래 요구사항을 5줄로 요약해주세요.
[요구사항 제공]

이제 같은 5줄을 유지하면서,
더 많은 핵심 정보를 포함하도록 다시 작성해주세요.
불필요한 수식어를 제거하고, 새로운 엔티티를 추가하세요.

이 과정을 3번 더 반복합니다."
```
---

### 7.4 Tree of Thoughts (ToT) - 대안 탐색

#### 원리

```markdown
전통적 방식 (단일 경로):
────────────────────────────────
문제 → 해결책 1 → 구현
(첫 번째 아이디어에 고착)

ToT 방식 (다중 경로):
────────────────────────────────
          문제
            │
     ┌──────┼──────┐
     ↓      ↓      ↓
   해결책1 해결책2 해결책3
     │      │      │
   평가    평가    평가
   (60점) (85점) (70점)
            │
            ↓
        해결책2 선택
            │
     ┌──────┼──────┐
     ↓      ↓      ↓
   구현A   구현B   구현C
     │      │      │
   평가    평가    평가
            │
            ↓
        최적 경로 완성

핵심:
├─ 여러 대안 생성
├─ 각 대안 평가 (점수화)
├─ 최적 선택
├─ 역추적 가능 (막히면)
└─ BFS/DFS 탐색
```
#### DNA 적용: ADR 대안 비교

```markdown
Stage 3 ADR에서 ToT 적용:

문제: "데이터베이스 선택"

Step 1: 대안 생성
────────────────────────────────
대안 1: PostgreSQL
대안 2: MySQL
대안 3: MongoDB

Step 2: 평가 기준 정의
────────────────────────────────
├─ ACID 지원 (필수)
├─ JSON 지원 (중요)
├─ 팀 경험 (중요)
├─ 성능 (보통)
└─ 비용 (보통)

Step 3: 각 대안 평가
────────────────────────────────

| 기준   | PostgreSQL | MySQL | MongoDB |
| ------ | ---------- | ----- | ------- |
| ACID   | 10/10      | 9/10  | 6/10    |
| JSON   | 9/10       | 6/10  | 10/10   |
| 팀경험 | 8/10       | 8/10  | 4/10    |
| 성능   | 8/10       | 9/10  | 8/10    |
| 비용   | 10/10      | 10/10 | 6/10    |
| 총점   | 45         | 42    | 34      |

Step 4: 최적 선택
────────────────────────────────
PostgreSQL 선택 (45점)

근거:
├─ ACID 완전 지원 (필수 요건)
├─ JSONB로 유연성 확보
├─ 팀 경험 있음
└─ 오픈소스 (비용 절감)

역추적 조건:
├─ 성능 문제 심각 시 → MySQL 재검토
├─ 스키마리스 필요 시 → MongoDB 재검토
```
#### 프롬프트 템플릿

```markdown
ToT 적용 프롬프트:

"[문제]에 대해 3가지 대안을 제시해주세요.

각 대안에 대해:

1. 장점 3가지
2. 단점 3가지
3. 적합한 상황
4. 점수 (10점 만점)

평가 기준:

- [기준 1] (가중치: 높음)
- [기준 2] (가중치: 중간)
- [기준 3] (가중치: 낮음)

최종적으로 하나를 선택하고 근거를 설명해주세요.
역추적 조건(언제 재검토해야 하는지)도 명시해주세요."
```
---

### 7.5 RDoLT - 난이도별 분해

#### 원리

```
전통적 분해:
────────────────────────────────
전체 기능 → 균등 분할
(복잡도 고려 없음)

RDoLT 방식:
────────────────────────────────
Level 1 - Easy:
├─ 기본 CRUD
├─ 단순 모델
├─ 명확한 로직
└─ 의존성 없음

Level 2 - Intermediate:
├─ 엔티티 간 관계
├─ 서비스 통합
├─ 트랜잭션
└─ 외부 연동 (단순)

Level 3 - Final:
├─ 에러 처리
├─ 동시성
├─ 성능 최적화
├─ 보안
└─ 예외 상황

작업 순서:
Easy → Intermediate → Final
(기반부터, 복잡한 것은 나중에)
```
#### DNA 적용: Task Breakdown

```
Stage 8 Task Breakdown에 RDoLT 적용:

전체 기능: "주문 시스템"

Level 1 - Easy (먼저):
────────────────────────────────
Task 001: Order 엔티티 기본 필드
Task 002: OrderItem 엔티티
Task 003: OrderStatus 열거형
Task 004: 기본 Repository

Level 2 - Intermediate (다음):
────────────────────────────────
Task 005: 주문 생성 서비스 (트랜잭션)
Task 006: Order-OrderItem 관계 처리
Task 007: 주문 조회 서비스 (조인)
Task 008: KIS API 연동 (기본)

Level 3 - Final (마지막):
────────────────────────────────
Task 009: 동시 주문 처리 (락)
Task 010: 부분 체결 처리
Task 011: 주문 실패 복구
Task 012: 주문 취소/정정
Task 013: 성능 최적화 (인덱스, 캐시)
Task 014: 보안 검증 (권한, 한도)
```
#### 프롬프트 템플릿

```
RDoLT 적용 프롬프트:

"[기능]을 구현하기 위한 Task를 분해해주세요.

3단계로 분류합니다:

Level 1 - Easy (기본):

- 단순 모델, CRUD, 명확한 로직
- 의존성 없음

Level 2 - Intermediate (상호작용):

- 엔티티 관계, 서비스 통합, 트랜잭션
- Level 1에 의존

Level 3 - Final (고급):

- 에러 처리, 동시성, 성능, 보안
- Level 1, 2에 의존

각 Task는:

- 2-4시간 분량
- 독립 테스트 가능
- 명확한 완료 조건"
```
---

### 7.6 Stage별 기법 적용 요약

```
┌─────────────────────────────────────────────────────────┐
│ Stage │ 기법 │ 적용 목적                                │
├───────┼──────┼─────────────────────────────────────────┤
│ 1     │ CoD  │ 아이디어 → 정제된 요구사항               │
│       │ RDoLT│ 핵심 기능 파악 (Easy부터)               │
├───────┼──────┼─────────────────────────────────────────┤
│ 2     │ CoD  │ 제약조건 정리                           │
│       │ ToT  │ 충돌 패턴 분석                          │
├───────┼──────┼─────────────────────────────────────────┤
│ 3     │ ToT  │ ADR 대안 비교, 결정 근거                │
├───────┼──────┼─────────────────────────────────────────┤
│ 4-6   │ SoT  │ DNA 청사진 구조화                       │
├───────┼──────┼─────────────────────────────────────────┤
│ 7     │ SoT  │ Blueprint 목차 먼저, 확장               │
├───────┼──────┼─────────────────────────────────────────┤
│ 8     │ RDoLT│ Task 난이도별 분해                      │
│       │ SoT  │ Task 구조화                             │
├───────┼──────┼─────────────────────────────────────────┤
│ 9     │ SoT  │ Checklist 구조                          │
└─────────────────────────────────────────────────────────┘
```
---

## 마무리: 문서 활용 가이드

### 이 문서의 위치

```
┌─────────────────────────────────────────────────────────┐
│ Tier 1: Overview (빠른 파악)                            │
│ DNA_PROJECT_OVERVIEW_v2.md (526줄)                     │
│ → 전체 맥락, 현재 위치                                 │
└───────────────────────┬─────────────────────────────────┘
                        │
                        ↓
┌─────────────────────────────────────────────────────────┐
│ Tier 2: Detailed (상세 참조) ← 현재 문서               │
│ DNA_METHODOLOGY_DETAILED.md                            │
│ → 실제 작업 시 참조                                    │
└───────────────────────┬─────────────────────────────────┘
                        │
                        ↓
┌─────────────────────────────────────────────────────────┐
│ Tier 3: Stage별 가이드 (추후 분리)                     │
│ STAGE_1_GUIDE.md, STAGE_2_GUIDE.md, ...               │
│ → 각 Stage 실행 시 로드                                │
└─────────────────────────────────────────────────────────┘
```
### 다음 단계

```
Step 3: CoD 압축
────────────────────────────────

- 이 문서의 중복 제거
- 핵심 엔티티 명확화
- 실행 가능한 지침으로 압축

Step 4: Stage별 분리
────────────────────────────────

- 이 문서 기반으로 9개 가이드 추출
- 각 가이드: 400-600줄
- Progressive Disclosure 적용
```
---

**문서 작성 완료**: 2025-12-02
**총 라인 수**: ~1900줄
**참조**: DNA_PROJECT_OVERVIEW_v2.md, GEMINI_RESEARCH_SYNTHESIS.md
